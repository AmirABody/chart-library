<?xml version="1.0" encoding="utf-8"?>
<svg
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 {{canvas.width}} {{canvas.height}}"
  xml:lang="fa"
  direction="rtl"
>
  {{#if measure}}
    <script>
      <![CDATA[{{> measure}}]]>
    </script>
  {{/if}}
  <style type="text/css">
    <![CDATA[{{> fonts}}]]>
  </style>
  <rect
    id="svg-container"
    x="0"
    y="0"
    width="{{canvas.width}}"
    height="{{canvas.height}}"
    fill="white"
  ></rect>
  {{#if (boolean profileVariant "===" "with-sidebar")}}
    {{> sidebar canvas=canvas info=dataset.info qrcode=qrcode}}
  {{/if}}
  <svg
    x="{{canvas.profile.padding}}"
    y="{{math
      (ternary (boolean profileVariant "===" "with-sidebar") canvas.header.height 0)
      "+"
      canvas.profile.padding
    }}"
    width="{{math
      canvas.profile.width
      "-"
      (math 2 "*" canvas.profile.padding)
    }}"
    height="{{math
      canvas.profile.height
      "-"
      (math 2 "*" canvas.profile.padding)
    }}"
    viewBox="0 0 {{spec.profile.dimensions.width}} {{spec.profile.dimensions.height}}"
  >
    {{> @partial-block}}
  </svg>
</svg>